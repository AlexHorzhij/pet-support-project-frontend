{"version":3,"file":"static/js/784.76e22cb6.chunk.js","mappings":"sSAGaA,GAAOC,EAAAA,EAAAA,IAAOC,EAAAA,EAAPD,EAAY,gBAAGE,EAAK,EAALA,MAAK,eACtCC,gBAAiBD,EAAME,QAAQC,WAAWC,QAC1CC,UAAW,OACXC,cAAe,QAEdN,EAAMO,YAAYC,GAAG,MAAQ,CAC5BH,UAAW,QACZ,IAGUI,GAAgBX,EAAAA,EAAAA,IAAOY,EAAAA,EAAPZ,EAAkB,kBAAGE,EAAK,EAALA,MAAK,UACrDW,SAAU,QACVC,OAAQ,SACRC,QAAS,WAAQ,SAEhBb,EAAMO,YAAYC,GAAG,MAAQ,CAC5BG,SAAU,QACVE,QAAS,SACV,SAEAb,EAAMO,YAAYC,GAAG,MAAQ,CAC5BG,SAAU,WACX,K,UCzBUG,EAAU,SAAAC,GAAK,OAAIA,EAAMC,IAAI,E,uCCoB3B,SAASC,IACtB,OAA0BC,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KACtB,GAAmCC,EAAAA,EAAAA,IAAYP,GAAvCE,EAAI,EAAJA,KAAMM,EAAK,EAALA,MAAOC,EAAS,EAATA,UACrB,GAAwCC,EAAAA,EAAAA,MAAiB,eAAlDC,EAAY,KAAEC,EAAe,KAC9BC,EAAQF,EAAaG,IAAI,UACzBC,GAAWC,EAAAA,EAAAA,MACTC,GAAMC,EAAAA,EAAAA,IAAe,UAArBD,GAERE,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVN,GAA0B,OAAVA,EAGlB,OAFAO,SAASC,eAAe,cAAcC,aACtCP,GAASQ,EAAAA,EAAAA,MAGXR,GAASS,EAAAA,EAAAA,GAAgBnB,GAC3B,GAAG,CAACU,EAAUF,EAAOR,IAErB,IA4BMoB,GAAaC,EAAAA,EAAAA,GAAcxB,EAAM,QAEvC,OACE,SAACnB,EAAI,WACH,UAACY,EAAa,YACZ,SAACgC,EAAA,EAAU,CAACC,QAAQ,KAAKC,GAAI,CAAEC,UAAW,UAAW,SAClDb,EAAE,qBAEL,SAAC,KAAU,CAACc,SA7BG,SAAAC,GACS,MAAb,OAAXA,QAAW,IAAXA,OAAW,EAAXA,EAAaC,QAKbD,EAAYC,OAAOC,OAAS,GAAKF,EAAYG,SAAS,KACxDC,EAAAA,GAAAA,MAAY,yDAIVJ,IAAgB3B,EAOpBC,EAAS0B,GANPI,EAAAA,GAAAA,MAAY,0BAAD,OACiB/B,EAAK,sCAXjC+B,EAAAA,GAAAA,MAAY,8BAiBhB,EAU0CC,QApChB,SAAAC,GACxBA,EAAMC,iBACNjC,EAAS,IACTM,EAAgB,IAChBQ,SAASC,eAAe,cAAcC,OACxC,IAgCOd,IAAS,uBAAIA,EAAMgC,OACnB/B,IAAa,SAAC,KAAU,IACR,IAAhBP,EAAKgC,QACJ,SAAC,KAAQ,CAAChC,KAAMuB,KAEhB,SAAC,KAAU,CAACpB,MAAOQ,KAErB,SAAC,KAAW,QAIpB,C","sources":["pages/NewsPage/NewsPage.styled.js","redux/news/newsSelectors.js","pages/NewsPage/NewsPage.js"],"sourcesContent":["import { styled } from '@mui/material/styles';\nimport { Box, Container } from '@mui/material';\n\nexport const Main = styled(Box)(({ theme }) => ({\n  backgroundColor: theme.palette.background.default,\n  marginTop: '42px',\n  paddingBottom: '64px',\n\n  [theme.breakpoints.up('md')]: {\n    marginTop: '48px',\n  },\n}));\n\nexport const NewsContainer = styled(Container)(({ theme }) => ({\n  maxWidth: '474px',\n  margin: '0 auto',\n  padding: '0 20px',\n\n  [theme.breakpoints.up('md')]: {\n    maxWidth: '768px',\n    padding: '0 0',\n  },\n\n  [theme.breakpoints.up('lg')]: {\n    maxWidth: '1280px',\n  },\n}));\n","export const getNews = state => state.news\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\n\nimport {\n  LoaderPage,\n  NewsSearch,\n  NewsList,\n  NoNewsItem,\n  ScrollUpBtn,\n} from 'components';\nimport { Main, NewsContainer } from 'pages/NewsPage/NewsPage.styled';\n\nimport { fetchNews, fetchSearchNews } from 'redux/news/newsOperations';\nimport { getNews } from 'redux/news/newsSelectors';\nimport { sortObjByDate } from 'services/sortObjByDate';\nimport { useTranslation } from 'react-i18next';\nimport { Typography } from '@mui/material';\n\nexport default function NewsPage() {\n  const [value, setValue] = useState('');\n  const { news, error, isLoading } = useSelector(getNews);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('search');\n  const dispatch = useDispatch();\n  const { t } = useTranslation('common');\n\n  useEffect(() => {\n    if (query === '' || query === null) {\n      document.getElementById('searchForm').reset();\n      dispatch(fetchNews());\n      return;\n    }\n    dispatch(fetchSearchNews(value));\n  }, [dispatch, query, value]);\n\n  const handleClearSearch = event => {\n    event.preventDefault();\n    setValue('');\n    setSearchParams('');\n    document.getElementById('searchForm').reset();\n  };\n\n  const onFormSubmit = searchValue => {\n    if (searchValue?.trim() === '') {\n      toast.error('Please, enter search value!');\n      return;\n    }\n\n    if (searchValue.trim().length < 3 || searchValue.includes('*')) {\n      toast.error('Please, enter no less 3 letters for a correct search!');\n      return;\n    }\n\n    if (searchValue === value) {\n      toast.error(\n        `We have already found \"${value}\"! Please, enter new search value`\n      );\n      return;\n    }\n\n    setValue(searchValue);\n  };\n\n  const sortedNews = sortObjByDate(news, 'date');\n\n  return (\n    <Main>\n      <NewsContainer>\n        <Typography variant=\"h2\" sx={{ textAlign: 'center' }}>\n          {t('NewsPage.title')}\n        </Typography>\n        <NewsSearch onSubmit={onFormSubmit} onClear={handleClearSearch} />\n        {error && <p>{error.data}</p>}\n        {isLoading && <LoaderPage />}\n        {news.length !== 0 ? (\n          <NewsList news={sortedNews} />\n        ) : (\n          <NoNewsItem value={query} />\n        )}\n        <ScrollUpBtn />\n      </NewsContainer>\n    </Main>\n  );\n}\n"],"names":["Main","styled","Box","theme","backgroundColor","palette","background","default","marginTop","paddingBottom","breakpoints","up","NewsContainer","Container","maxWidth","margin","padding","getNews","state","news","NewsPage","useState","value","setValue","useSelector","error","isLoading","useSearchParams","searchParams","setSearchParams","query","get","dispatch","useDispatch","t","useTranslation","useEffect","document","getElementById","reset","fetchNews","fetchSearchNews","sortedNews","sortObjByDate","Typography","variant","sx","textAlign","onSubmit","searchValue","trim","length","includes","toast","onClear","event","preventDefault","data"],"sourceRoot":""}