{"version":3,"file":"static/js/275.7a3a0e5f.chunk.js","mappings":"kRAAaA,EAAU,SAAAC,GAAK,OAAIA,EAAMC,IAAI,E,uCCoB3B,SAASC,IAEtB,OAAmCC,EAAAA,EAAAA,IAAYJ,GAAvCE,EAAI,EAAJA,KAAMG,EAAK,EAALA,MAAOC,EAAS,EAATA,UACrB,GAAwCC,EAAAA,EAAAA,MAAiB,eAAlDC,EAAY,KAAEC,EAAe,KAC9BC,EAAQF,EAAaG,IAAI,UACzBC,GAAWC,EAAAA,EAAAA,MACTC,GAAMC,EAAAA,EAAAA,IAAe,UAArBD,GAERE,EAAAA,EAAAA,YAAU,WAKRJ,EAJc,KAAVF,GAA0B,OAAVA,GAIXO,EAAAA,EAAAA,GAAgBP,IAHdQ,EAAAA,EAAAA,KAIb,GAAG,CAACN,EAAUF,IAEd,IAmBMS,GAAaC,EAAAA,EAAAA,GAAclB,EAAM,QAEvC,OACE,SAAC,KAAI,WACH,UAAC,KAAa,YACZ,SAACmB,EAAA,EAAU,CAACC,QAAQ,KAAKC,GAAI,CAAEC,UAAW,UAAW,SAAEV,EAAE,qBACzD,SAAC,KAAU,CAACW,SAzBG,SAACC,GACQ,MAAb,OAAXA,QAAW,IAAXA,OAAW,EAAXA,EAAaC,QAKbD,EAAYC,OAAOC,OAAS,GAAKF,EAAYG,SAAS,KACxDC,EAAAA,GAAAA,MAAY,yDAIVJ,IAAgBhB,EAKpBD,EAAgC,KAAhBiB,EAAqB,CAAEK,OAAQL,GAAgB,CAAC,GAJ9DI,EAAAA,GAAAA,MAAY,0BAAD,OAA2BpB,EAAK,sCAV3CoB,EAAAA,GAAAA,MAAY,8BAehB,EAQ0CE,MAAOtB,IAC1CL,IAAS,uBAAIA,EAAM4B,OACnB3B,IAAa,SAAC,KAAU,IACR,IAAhBJ,EAAK0B,QACF,SAAC,KAAQ,CAAC1B,KAAMiB,KAChB,SAAC,KAAU,CAACa,MAAOtB,QAK/B,C","sources":["redux/news/newsSelectors.js","pages/NewsPage.js"],"sourcesContent":["export const getNews = state => state.news\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-hot-toast';\n\nimport {\n  LoaderPage,\n  NewsSearch,\n  NewsList,\n  NoNewsItem,\n} from 'components';\nimport { Main, NewsContainer } from 'components/News/NewsItem/newsItem.styled';\n\nimport { fetchNews, fetchSearchNews } from 'redux/news/newsOperations';\nimport { getNews } from 'redux/news/newsSelectors';\nimport { sortObjByDate } from 'services/sortObjByDate';\nimport { useTranslation } from 'react-i18next';\nimport { Typography } from '@mui/material';\n\n\nexport default function NewsPage() {\n\n  const { news, error, isLoading } = useSelector(getNews);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('search')\n  const dispatch = useDispatch();\n  const { t } = useTranslation('common');\n\n  useEffect(() => {\n    if (query === '' || query === null) {\n      dispatch(fetchNews())\n      return\n    }\n    dispatch(fetchSearchNews(query));\n  }, [dispatch, query]);\n\n  const onFormSubmit = (searchValue) => {\n    if (searchValue?.trim() === \"\") {\n      toast.error(\"Please, enter search value!\")\n      return\n    }\n\n    if (searchValue.trim().length < 3 || searchValue.includes('*')) {\n      toast.error(\"Please, enter no less 3 letters for a correct search!\")\n      return\n    }\n\n    if (searchValue === query) {\n      toast.error(`We have already found \"${query}\"! Please, enter new search value`)\n      return\n    }\n\n    setSearchParams(searchValue !== '' ? { search: searchValue } : {})\n  }\n\n  const sortedNews = sortObjByDate(news, 'date');\n\n  return (\n    <Main>\n      <NewsContainer>\n        <Typography variant=\"h2\" sx={{ textAlign: 'center' }}>{t('NewsPage.title')}</Typography>\n        <NewsSearch onSubmit={onFormSubmit} value={query} />\n        {error && <p>{error.data}</p>}\n        {isLoading && <LoaderPage />}\n        {news.length !== 0\n          ? <NewsList news={sortedNews} />\n          : <NoNewsItem value={query} />}\n\n      </NewsContainer>\n    </Main>\n  );\n}\n"],"names":["getNews","state","news","NewsPage","useSelector","error","isLoading","useSearchParams","searchParams","setSearchParams","query","get","dispatch","useDispatch","t","useTranslation","useEffect","fetchSearchNews","fetchNews","sortedNews","sortObjByDate","Typography","variant","sx","textAlign","onSubmit","searchValue","trim","length","includes","toast","search","value","data"],"sourceRoot":""}